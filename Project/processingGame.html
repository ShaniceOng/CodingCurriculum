<!DOCTYPE html>
<html lang="en">
<head>
  <title>JavaJava Website</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <link href="http://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  <style>

  body {
      font: 20px Montserrat, sans-serif;
      line-height: 1.8;
      color: #f5f6f7;
  }
  p { font: 20px Montserrat, sans-serif;
      line-height: 1.8;
      color: black;
  }
  p {
    text-align: justify;
   }
  .margin {margin-bottom: 45px;}
  .bg-1 { 
      background-color: #F5F5F5; /* White */
      color: #ffffff;
  }
  .bg-2 { 
      background-color: #008B8B; /* Red */
      color: #ffffff;
  }
  .bg-3 { 
      background-color: #ffffff; /* White */
      color: #555555;
  }
  .bg-4 { 
      background-color: #8B0000; /* Black Gray */
      color: #fff;
  }
  .container-fluid {
      padding-top: 70px;
      padding-bottom: 70px;
  }
  .navbar {
      padding-top: 15px;
      padding-bottom: 15px;
      border: 0;
      border-radius: 0;
      margin-bottom: 0;
      font-size: 12px;
      letter-spacing: 5px;
  }
  .navbar-nav  li a:hover {
      color: #1abc9c !important;
  }

  p.one {
    /*border: 1px solid red;*/
    /*background-color: yellow;*/
    padding-top: 15px;
    padding-right: 300px;
    padding-left: 300px;
}

ul {
  padding-top: 15px;
    padding-right: 300px;
    padding-left: 300px;  
}

h1.one {
    /*border: 1px solid red;*/
    /*background-color: yellow;*/
    padding-top: 15px;
    padding-right: 300px;
    padding-left: 300px;
    color: black;
}

h2.one {
    /*border: 1px solid red;*/
    /*background-color: yellow;*/
    padding-top: 15px;
    padding-right: 300px;
    padding-left: 300px;
    color: black;
}

h3.one {
    /*border: 1px solid red;*/
    /*background-color: yellow;*/
    padding-top: 15px;
    padding-right: 300px;
    padding-left: 300px;
    color: black;
}

  p.two {
    /*border: 1px solid red;*/
    /*background-color: yellow;*/
    padding-top: 0px;
    padding-right: 30px;
    padding-bottom: 5px;
    padding-left: 80px;
}

.contained {
    width: 680px;
    overflow: auto;
    margin: 0 auto; 
}
  }
  </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-default">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>                        
      </button>
      <a class="navbar-brand" href="../Home.html">JavaJava</a>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav navbar-right">
        <li><a href="../learning.html">Learn</a></li>
        <li><a href="../exercises.html">Exercises</a></li>
        <li><a href="../project.html">Project</a></li>
        <li><a href="../aboutUs.html">About Us</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Second Container -->
<div class="container-fluid bg-2 text-center">
  <h1 class="margin">Processing</h1>
  <div>
  
  </div>
</div>

<div>
  <h2 class="one">First the fundamentals, then the game..</h2>
  <p class="one">Before actually making a game in processing, there is a need for us to go through the basics of the processing language. However, this lesson does not cover the basics of the language. For this you are recommended to first go through the learning pages on the official website that can be accessed through this <a href="https://processing.org/tutorials/" target="_blank">link</a>. Don't worry, since you are already familiar with java, going through this won't give you a tough time! Clicking the link, should lead you to this page.</p>

  </br>
  <center><img src="Processing/3.png" width="1200"></center>
  <br>

  <p class="one">The official site has very useful tutorials including both videos and notes on how get a strong grasp of the basics and some advance concepts of the language. We shall make use of some of these concepts to create a game of our own.</p>

 <h2 class="one">Okay a game, but what is it?</h2>

<p class="one">When started, the game should look something like this.</p> 
  </br>
  <center><img src="Processing/4.png" width="1200"></center>
  </br>

 <p class="one">So basically, the game consists of a stone (the ball) on a horizontal bar with a gap in it. The idea is to make the stone go through the gaps to keep it as low as possible. But obviously, it isn't as easy as it seems as the bars keep moving up at a speed that keeps increasing. So after a few seconds the scrren should look something like this.</p>
  </br>
  <center><img src="Processing/5.png" width="600"></center>
  </br>
  <p class="one">In order to make it give the player increased chances of scoring more points, we should also increase the speed of the rolling of the stone, but by a smaller factor than that of the bars.</p>
  <h2 class="one">Aim of the Game!</h2>
  <p class="one">So basically the aim of the game is prevent the 'stone' (ball) from going off the screen by making it fall down through the gaps.<br>
  If you want to make the game more interesting, we can also add the feature of the screen rotating after some random time.</p>

  <h2 class="one">Controls</h2>
  <p class="one">We shall use the kewboard keys to control the movement of the stone on the bars as following:</p>
  <ul><font color="black">
      <li>Press the right and left arrow key button to control the ball's movement.</li>
      <li>Did you notice the bar at the top right corner. Once the bar at the top-right corner gets filled, you can slow down the speed by tapping on the spacebar</li>
    </font></ul>
</div>

<div>
  <p class="one"> Now before heading to our program for this game, why don't you try to implement your own version of this game. It doesn't have to be exactly the same as our code as long as you get the basic functioning right. If you feel that you don't understand the functioning of the game, then you can try to run the code below and see how the game works first, before writing down your own code.</br></br> 
  There are some other things about the game that you should also keep in mind. </br>A score count is maintained in the top left corner and the power up meter on the top right corner of the window. The power up meter fills up as time passes and changes its color from grey to light purple when it gets filled up completely. On using the power up, the power up meter is emptied and starts refilling again. Score is incremented by 1 when the stone falls through a level. If the ball goes off the processing window screen, the game ends with ‘Game Over’ printed in the middle of the window.
  </p>


<h2 class="one">Let the Hunger Games begin!</h2>
<p class = "one">
I am going to call this game 'The Rolling Stone'. I think its a nice name, but if you find a better name, please feel free to use that to name your project/game.</p>br>
</p>
</div>
<pre class="contained">

// Declaring gloabal variables
Ball ball;
Level levels[]; // Declare the array

int space;
int numLevels;
float speed = 1;
float gapLength = 45;

float ballShift = 9;

int score = 0;
int frameCount = 0;
int powerUp = 0;

float data;

int rotateCount = 0;
int rotation;
int count = 0;

// changed origin co-ordinates
int xo;
int yo;

void setup() {
  size(600, 600);
  
  // Properties of the levels
  numLevels = 7;
  space = height / (numLevels - 1);
  levels = new Level[numLevels]; // Create the array
  for(int i = 0; i &lt; numLevels; i++) {
    float y = i * space;
    float gapStart = random(width - gapLength);
    
    // Create each object
    levels[i] = new Level(y, gapStart, i);
  }
  
  // Properties of the ball
  float dia = 20;
  ball = new Ball(dia/2, space * 6 - dia / 2, dia, 6);
  
  // Deal with the rotation of the screen
  rotation = (int)random(500, 1200);
  xo = width / 2;
  yo = height / 2;
}

void draw() {
  
  background(0);
  
  // Game Over if ball goes off the screen
  if(((ball.y + ball.diameter / 2 ) &lt; 0) || (ball.y - ball.diameter / 2 > height)) {
    PFont font;
    font = loadFont("HelveticaNeue-35.vlw");
    textFont(font);
    fill(255);
    textAlign(CENTER, CENTER);
    text("Game Over", xo, yo);
    scoreBoard();
    noLoop();
  }
  
  powerUpMeter();
  scoreBoard();
  
  // Translates and vertically inverts the screen
  translate(xo, yo);
  if(rotateScreen() == 1) {
    rotate(radians(180));
  }
  
  // Updating positions of levels and displaying them
  for(int i = 0; i &lt; numLevels; i++) {
    levels[i].move();
    levels[i].display();
  }
  
  // Ball falls when it reaches the gap
  if((ball.x >= levels[ball.currentLevel].gapBegin + ball.diameter /2) &amp;&amp; 
      (ball.x &lt;= levels[ball.currentLevel].gapEnd - ball.diameter /2))
      ball.fall();
  
  // Updates position of ball and displays it
  ball.move();
  ball.display();
  
  // Speed of the ball and levels increase after every 600th frame
  frameCount++;
  if(frameCount % 600 == 0) {
    frameCount = 0;
    speed += 0.45;
    ballShift += 0.3;
  }
}

// Maintains the scoreboard at top-left corner
void scoreBoard() {
  fill(255);
  textAlign(LEFT, TOP);
  text("Score: " + score, 10, 10);
}

// Updates the meter on the top right corner
void powerUpMeter() {
  float limit = 1200;
  if(powerUp &lt; limit) {
    powerUp++;
  }
  
  fill(100);
  stroke(200);
  rect(475, 30, 100 * powerUp / limit, 30);
  noFill();
  rect(475 + (100 * powerUp / limit), 30, (limit - powerUp) * 100 / limit, 30);
    
  if(powerUp == limit) {
    
    // Changes the colour of meter when full
    fill(100, 100, 255);
    rect(475, 30, 100, 30);
    
    // Updates meter and speed if powerup is used  
    if(keyPressed &amp;&amp; key == ' ') {
      powerUp = 0;
      speed -= 1.25;
      ballShift -= 0.7;
    }
  }
}

// Function to manage the rotation of the screen
int rotateScreen() {
  rotateCount++;
  if(rotateCount == rotation) {
    rotation = (int)random(500, 1200);
    rotateCount = 0;
    count = (count + 1) % 2; 
  }
  return count;
}

void keyPressed() {
  if (key == CODED) { 
    if ((keyCode == LEFT &amp;&amp; count == 0) || (keyCode == RIGHT &amp;&amp; count == 1)) {
      ball.moveLeft();
    } else if ((keyCode == LEFT &amp;&amp; count == 1) || (keyCode == RIGHT &amp;&amp; count == 0)) {
      ball.moveRight();
    }
  } 
}

class Level {
  float y;
  float gapBegin;
  float gapEnd;
  int level;
  
  Level(float yPos, float gapStart, int i) {
    y = yPos;
    gapBegin = gapStart;
    gapEnd = gapBegin + gapLength;
    level = i;
  }
  
  // Controls the upward movement of the levels
  void move() {
    y -= speed;
    if(y &lt;= -space) {
       y = height; 
       gapBegin = random(width - gapLength);
       gapEnd = gapBegin + gapLength;
     }
  }
  
  // Displays the levels
  void display() {
    strokeWeight(5);
    stroke(255);
    line(-xo, y - yo, gapBegin - xo, y - yo);
    line(gapEnd - xo, y - yo, width - xo, y - yo);
  }
}

class Ball {
  float x;
  float y;
  float diameter;
  int currentLevel;
  
  Ball(float xPos, float yPos, float dia, int level) {
    x = xPos;
    y = yPos;
    diameter = dia;
    currentLevel = level;
  }
  
  // Controls upward movement of the ball
  void move() {
    y -= speed;
    if(y &lt;= -space) {
       y = 0;   
    }
  }
  
  // Moves the ball towards the left
  void moveLeft() {
    if(x >= 2 + diameter / 2) {
       x -= ballShift;
    } else 
      x = width - diameter / 2;
  }
  
  // Moves the ball towards the right
  void moveRight() {
    if(x &lt;= width - 2 - diameter / 2) { 
      x += ballShift;
    } else
      x = diameter / 2;
  }

  // Updates corresponding variables when ball falls
  void fall() {
      currentLevel = (currentLevel + 1) % numLevels;
      y += space;
      score++;
  }
  
  // Displays the ball
  void display() {
    fill(255);
    ellipse(x - xo, y - yo, diameter, diameter);
  }
}

</pre> 


<div>
  <p class="one"> Wow! That was long. Now that we have written the code, let us run and see if we get the desired solution. If you wrote the code properly then you should get the initial screen that was shown to you at the beginning of the lesson. You should also see that the bars are oving up and you can control the ball using the arrow key on the keyboard. </br></br>These are some screens that you might come across while playing this game.</p>
</div>

</br>
  <center><img src="Processing/6.png" width="600"></center>
<br>

</br>
  <center><img src="Processing/7.png" width="600"></center>
<br>

</br>
  <center><img src="Processing/8.png" width="600"></center>
<br>

</br>
  <center><img src="Processing/9.png" width="600"></center>
<br>


<div>
  <p class="one"> Congrats! With this you have designed and implemented your own game in processing. But this is not the end. There is a lot more you can with this. You can search about it if you are interested and start making your own projects using processing. </p>
</div>

<div class="container">             
  <ul class="pager">
    <li class="previous"><a href="downloadingProcessing.html">Previous</a></li>
  </ul>
</div>


</div><!--
--><footer class="container-fluid bg-4 text-center">
  Website made by Sachchit Shanice Keshav Ashu 
</footer>

</body>
</html>
